<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apartado principal</title>

    <link rel="stylesheet" href="../../../css/wserver/gui/principal.css" />
  </head>

  <body>
    <div class="window">
      <img
        class="window-background"
        src="/img/fondo.jpg"
        alt="Fondo de pantalla"
      />
      <div class="window-content">
        <div class="iconos-pantalla">
          <div class="icono-cont">
            <img
              class="icono"
              src="https://img.icons8.com/?size=192&id=74176&format=png"
              alt=""
            />Papelera
          </div>
          <div class="icono-cont">
            <img
              class="icono"
              src="https://upload.wikimedia.org/wikipedia/commons/7/7e/Microsoft_Edge_logo_%282019%29.png"
              alt=""
            />Edge
          </div>
        </div>
      </div>
      <div class="footer">
        <div class="uno">
          <img
            class="icon-footer primero"
            src="../../../recursos/iconos/gui/windows11.svg"
            alt=""
          />
          <div class="input">
            <img
              class="icon-footer"
              src="../../../icons/lupa.svg"
              alt="lupa-icono"
            />
            <input type="text" placeholder="Búsqueda" />
          </div>
          <img
            class="icon-footer secu"
            src="https://images.icon-icons.com/195/PNG/256/File_Explorer_23583.png"
            alt="explorador-de-archivos-icon"
          />
          <img
            class="icon-footer secu"
            src="https://images.icon-icons.com/37/PNG/512/devicemanager_theapplication_3131.png"
            alt="administrador-de-servidor-icon"
          />
          <img
            id="settings-icon"
            class="icon-footer secu"
            src="https://images.icon-icons.com/3450/PNG/512/settings_preferences_control_tools_configuration_options_gear_icon_219379.png"
            alt="ajustes-icono"
          />
        </div>
        <div class="dos">
          <img
            src="https://images.icon-icons.com/779/PNG/512/ethernet_icon-icons.com_64699.png"
            class="icon-footer secu"
            alt="icon-ethernet"
          />
          <img
            src="https://images.icon-icons.com/1678/PNG/512/wondicon-ui-free-speaker_111240.png"
            class="icon-footer secu"
            alt="icon-volumen"
          />
          <img
            src="https://images.icon-icons.com/1776/PNG/512/lowbattery_114254.png"
            class="icon-footer secu"
            alt="bateria icono"
          />
          <div class="fecha-hora">
            <p id="current-time"></p>
            <p id="current-date"></p>
          </div>
        </div>
      </div>
    </div>
    <div id="ajustesContainer" style="display: none">
      <div class="header-ajustes">
        <div class="h-izquierda">
          <img
            class="h-icon"
            src="https://images.icon-icons.com/1415/PNG/512/ic-back_97586.png"
            alt="flecha-volver"
          />
          <p>Configuración</p>
        </div>
        <div class="h-derecha">
          <img
            id="minimize-settings-icon"
            class="h-icon"
            src="https://images.icon-icons.com/1863/PNG/512/minimize_118918.png"
            alt="minimizar icono"
          />
          <img
            id="maximize-settings-icon"
            class="h-icon"
            src="https://images.icon-icons.com/1143/PNG/512/squareroundedemptyoutlinedbuttonshape_80680.png"
            alt="cuadrado minmizar tamaño icono"
          />
          <img
            id="close-settings-icon"
            class="h-icon"
            src="https://images.icon-icons.com/1993/PNG/512/cancel_close_delete_exit_logout_remove_x_icon_123217.png"
            alt="cerrar venana icono"
          />
        </div>
      </div>
      <div class="main-ajustes">
        <div class="main-a-izquierda">
          <div class="cuenta-ajustes">
            <figure>
              <img
                class="icon-user"
                src="https://images.icon-icons.com/67/PNG/512/user_13230.png"
                alt="user imagen"
              />
            </figure>
            <div>
              <h3>Usuario</h3>
              <p>Cuenta local</p>
            </div>
          </div>
          <div class="inpt-ajustes">
            <input type="text" placeholder="Busca una configuración" />
            <img src="../../../icons/lupa.svg" alt="lupa-icono" />
          </div>
          <div class="component-main-izquierda primero">
            <img
              src="https://images.icon-icons.com/1808/PNG/512/computer_115306.png"
              alt=""
            />
            <p>Sistema</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://www.svgrepo.com/show/452168/bluetooth.svg"
              alt=""
            />
            <p>Bluetooth y dispositivos</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=96&id=Nw9d0a7KroDU&format=png"
              alt=""
            />
            <p>Red e Internet</p>
            <!--  -->
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=96&id=f6JWKSr8MIKR&format=png"
              alt=""
            />

            <p>Personalización</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=96&id=kJr8od2fGcmF&format=png"
              alt=""
            />
            <p>Aplicaciones</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=96&id=kDoeg22e5jUY&format=png"
              alt=""
            />
            <p>Cuentas</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=128&id=118947&format=png"
              alt=""
            />
            <p>Hora e idioma</p>
          </div>
          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=128&id=119257&format=png"
              alt=""
            />
            <p>Accesibilidad</p>
          </div>

          <div class="component-main-izquierda">
            <img
              src="https://img.icons8.com/?size=48&id=vy6OvJYHSJ8I&format=png"
              alt="asd"
            />
            <p>Privacidad y seguridad</p>
          </div>
          <div
            class="component-main-izquierda"
            onclick="window.location.href='windows_update.html'"
          >
            <img
              src="https://cdn-icons-png.flaticon.com/128/10695/10695869.png"
              alt=""
            />
            <p>Windowns Update</p>
          </div>
        </div>
        <div class="main-a-derecha">
          <h3>Sistema</h3>
          <div class="img-usuario">
            <img src="/img/fondo.jpg" alt="Fondo de pantalla" />
            <div>
              <span>WIN-PCNAME8SBBN</span>
              <p id="nombrepc">FFF_Laptop</p>
              <a href="#" onClick="viewCambiarNombre()">Cambiar nombre</a>
            </div>
          </div>
          <div id="uno-dos-uno" class="uno-dos">
            <img
              src="https://cdn-icons-png.flaticon.com/128/10695/10695869.png"
              alt=""
            />
            <div>
              <span>Windows Update</span>
              <p>Actualizado</p>
            </div>
          </div>

          <div class="opcionesDerecha">
            <div onclick="redireccion()" class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/3647/3647039.png"
                alt=""
              />
              <div>
                <span>Pantalla</span>
                <p>Monitores, brillos, luz nocturna, perfil de pantalla</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/482/482640.png"
                alt=""
              />
              <div>
                <span>Sonido</span>
                <p>
                  Biveles de volumen, salida, entrada, dispositivos de sonido
                </p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/15487/15487326.png"
                alt=""
              />
              <div>
                <span>Notificaciones</span>
                <p>Alerta de aplicaciones y sistemas, no molestar</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Concentración</span>
                <p>Reducir distracciones</p>
              </div>
            </div>
            <!-- ---------------------------- -->
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Energía y batería</span>
                <p>Suspención, uso de la batería, ahorro de la batería</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Alamacenamiento</span>
                <p>
                  Espacio de almacenaiento, unidades, reglas de configuración
                </p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Uso compartido en proximidad</span>
                <p>Detectabilidad, ubicación de archivos compartidos</p>
              </div>
            </div>

            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Multitareas</span>
                <p>Acoplar ventanas, escritorios, cambios de tareas</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Para programadores</span>
                <p>
                  Estas opcioones estpan pensadas solo con fines de desarrollo
                </p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Activación</span>
                <p>Estado de activación, suscripciones, clave producto</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Solución de problemas</span>
                <p>
                  Soluciones de problemas recomendados,preferencias, historial
                </p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Recuperación</span>
                <p>Reiniciar, inicio avanzado, volver</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Proyectar en este equipo</span>
                <p>Permisos, PIN de emparejamiento, detectar</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Escritorio remoto</span>
                <p>Usuario de escritorio remoto, permisos de conexion</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Portapapeles</span>
                <p>Historial de cortar y copiar, sincronización y boorrado</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Compoentes del sistema</span>
                <p>Administrar componentes preinstalados en windows</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Características opcionales</span>
                <p>Funcionalidad adicional para el dispositivo</p>
              </div>
            </div>
            <div class="uno-dos opcion">
              <img
                src="https://cdn-icons-png.flaticon.com/128/61/61136.png"
                alt=""
              />
              <div>
                <span>Información</span>
                <p>
                  Especificaciones del dispositivo, cambiar nombre de la pc,
                  especificaciones de windows
                </p>
              </div>
            </div>
          </div>
          <div id="cambiar-nombre">
            <div id="contenido-cambiar-nombre">
              <h4>Cambiar el nombre de tu PC</h4>

              <p>Puedes usar una combinación de letras, guiones y números</p>

              <span
                >Nombre actual del equipo: <br />
                <p id="nombrepc2"></p
              ></span>

              <div class="input-nombre">
                <input type="text" />
                <img
                  src="https://img.icons8.com/?size=48&id=95867&format=png"
                  alt="equisde nombre"
                />
              </div>
              <div class="bts-cambiar-nombre">
                <div class="cn-buttons">
                  <button class="btn-cambiar-nombre" onclick="msgReiniciar()">
                    Siguiente
                  </button>
                  <button
                    onclick="viewCambiarNombre()"
                    class="btn-cambiar-nombre-dos"
                  >
                    Cancelar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function msgReiniciar() {
        // Cambiado para seleccionar el input correctamente (usa querySelector)
        const inputNombre = document.querySelector(
          "#cambiar-nombre .input-nombre input"
        ).value;

        if (inputNombre.trim() === "") {
          alert("Por favor, ingresa un nombre válido.");
          return;
        }

        // Guardar el nombre en localStorage
        localStorage.setItem("nombrepc", inputNombre);

        // Cambiar el contenido del div
        const contenido = document.getElementById("contenido-cambiar-nombre");
        contenido.innerHTML = `
      <h4>Cambiar el nombre de tu PC</h4>
      <p>Después de reiniciar, el nombre de tu pc cambiará a: <strong>${inputNombre}</strong></p>
  
      <div class="bts-cambiar-nombre">
        <button class="btn-cambiar-nombre" onclick="reiniciar()">Reiniciar ahora</button>
        <button class="btn-cambiar-nombre-dos" onclick="viewCambiarNombre()">Reiniciar más tarde</button>
      </div>
    `;
      }
      // mi parte

      function reiniciar() {
        window.location.href = "../reiniciar_inicioSesion.html";
      }
      function updateDateTime() {
        const now = new Date();

        // Formatear la hora
        const hours = now.getHours().toString().padStart(2, "0");
        const minutes = now.getMinutes().toString().padStart(2, "0");
        document.getElementById(
          "current-time"
        ).textContent = `${hours}:${minutes}`;

        // Formatear la fecha
        const options = { weekday: "long", day: "numeric", month: "long" };
        const dateStr = now.toLocaleDateString("es-ES", options);
        document.getElementById("current-date").textContent = dateStr;
      }
      updateDateTime();
      setInterval(updateDateTime, 60000);

      // Referencias a los elementos
      const ajustesContainer = document.getElementById("ajustesContainer");
      const settingsIcon = document.getElementById("settings-icon");
      const closeSettingsIcon = document.getElementById("close-settings-icon");
      const minimizeSettingsIcon = document.getElementById(
        "minimize-settings-icon"
      );
      const maximizeSettingsIcon = document.getElementById(
        "maximize-settings-icon"
      );

      // Función para alternar la visibilidad de la ventana de ajustes usando style.display
      const toggleAjustes = () => {
        if (
          ajustesContainer.style.display === "none" ||
          ajustesContainer.style.display === ""
        ) {
          ajustesContainer.style.display = "block"; // O 'block', 'grid', según cómo quieras que se comporte
        } else {
          ajustesContainer.style.display = "none";
        }
      };
      function redireccion() {
        window.location.href = "./principal_copy.html";
      }
      function viewCambiarNombre() {
        const cambiarNombre = document.getElementById("cambiar-nombre");

        if (cambiarNombre.style.display === "block") {
          cambiarNombre.style.display = "none"; // Ocultar si está visible
        } else {
          cambiarNombre.style.display = "block"; // Mostrar si está oculto

          const inp_nombre = document.querySelector(".input-nombre input");
          if (inp_nombre) {
            inp_nombre.focus(); // Enfocar solo si se muestra
          }
        }
      }

      window.onload = function () {
        const accion = localStorage.getItem("accion");

        if (accion === "click") {
          toggleAjustes();
          localStorage.removeItem("accion"); // Limpias para que no se repita si vuelve sin redirección
        }
      };

      // ADMINISTRADOR DEL SERVIDOR

      document
        .querySelector('img[alt="administrador-de-servidor-icon"]')
        .addEventListener("click", function () {
          // Crear overlay
          const overlay = document.createElement("div");
          overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0,0,0,0.3);
                z-index: 999;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

          // Crear iframe con el administrador del servidor
          const iframe = document.createElement("iframe");
          iframe.src = "server_manager.html"; // Asegúrate de que la ruta sea correcta
          iframe.style.cssText = `
                width: 90vw;
                height: 90vh;
                border: none;
                border-radius: 8px;
                box-shadow: 0 4px 200px rgba(0,0,0,0.3);
            `;

          overlay.appendChild(iframe);
          document.body.appendChild(overlay);

          // Cerrar al hacer clic fuera
          overlay.addEventListener("click", function (e) {
            if (e.target === overlay) {
              document.body.removeChild(overlay);
            }
          });
        });

      document.addEventListener("DOMContentLoaded", function () {
        const pcnombre = document.getElementById("nombrepc");
        const nombrepc2 = document.getElementById("nombrepc2");
        const nombrepc = localStorage.getItem("nombrepc") || "FFF_Laptop";
        if (pcnombre) {
            pcnombre.innerText = nombrepc;
            nombrepc2.innerText = nombrepc;
        }
        
      });

      // Event Listeners
      settingsIcon.addEventListener("click", toggleAjustes);
      closeSettingsIcon.addEventListener("click", toggleAjustes);
      minimizeSettingsIcon.addEventListener("click", toggleAjustes);
      maximizeSettingsIcon.addEventListener("click", toggleAjustes);
    </script>
  </body>
</html>
